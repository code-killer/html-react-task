<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
  <div class= "container">
  <div class="row">
  <div class="col-md-12">
    <div id="root"></div>
	</div>
	</div>
	</div>
    <script type="text/babel">
	var App = React.createClass({
	
		getInitialState: function (){
		return{
		title: "List Of Participants ",
		name: '',
		participantList: [
			{
				id: 1,
				name: 'Alex Cross',
				email: 'alex@email.org',
				phone: '046666611'
			
			},
			{
				id: 2,
				name: 'Benzeman Hank',
				email: 'benzi@email.org',
				phone: '046666662'
			
			},
			{
				id: 3,
				name: 'Charli Harper',
				email: 'charli@email.org',
				phone: '046666699'
			
			}
		]
			}
		},
		
				render: function (){
				return(
				<div>
					{this.state.title}
					<ParticipantsForm submitAdd={this.handleSubmitAdd}/>
					<ParticipantsTable participantList = {this.state.participantList} />
				</div>
				)
			},
			
			handleSubmitAdd: function (name) {
			var newParticipant = {
			id: this.state.participantList.length+1,
			name: name
			}
			this.setState ({participantList: this.state.participantList.concat(newParticipant)});
			
			
			}
	});
	
	var ParticipantsForm  = React.createClass({
	
		getInitialState: function (){
		return{
		title2: "Hello from ParticipantsForm "
			}
		},
		
				render: function (){
				return(
				<div>
				<h1>{this.state.title}</h1>		
					<form onSubmit={this.submit} className="form-inline">
							
							<input type="text" className="form-control mb-2 mr-sm-2 mb-sm-0" ref="name" placeholder="Name" onChange = {this.updateName}/>

							
							<div className="input-group mb-2 mr-sm-2 mb-sm-0">
							<div className="input-group-addon">@</div>
							<input type="text" className="form-control" id="email" placeholder="Email Address"/>
							</div>
							
							
							<div className="input-group mb-2 mr-sm-2 mb-sm-0">
							<div className="input-group-addon">Call</div>
							<input type="phone" className="form-control" id="phone" placeholder="Phone Number"/>
							</div>
							
							<div className="input-group mb-2 mr-sm-2 mb-sm-0">
							<button type="submit" className="btn btn-primary">Add</button>
							</div>
					</form>
					
				</div>
				)
			},
			updateName: function () {
			console.log('changing name...');
			},
			submit: function (e) {
			e.preventDefault();
			var name = this.refs.name.value.trim();
			if (!name){
			alert ('No Name was entered !');
			return;
			}
			
			this.props.submitAdd (name);
			this.refs.name.value ='';
			}
	});
	
	var ParticipantsTable  = React.createClass({
	
				
				render: function (){
				return(
				<table className="table table-striped">
				  <thead>
					<tr>
					  <th>Name</th>
					  <th>Email</th>
					  <th>Phone</th>
					</tr>
				  </thead>
				  <tbody>
				   
					{
						this.props.participantList.map(
						participantList => {
						return <tr participantList = {participantList} key ={participantList.id}> 
						<td> {participantList.name}</td>
						<td> {participantList.email}</td>
						<td> {participantList.phone}</td>
						</tr>
						}
						)
					
					}
				  </tbody>
				</table>
				)
			}
	});
	
	
	
      ReactDOM.render(
        <App />,
        document.getElementById('root')
      );

    </script>
  </body>
</html>
